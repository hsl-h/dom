
<div class="container">
    <h1>人员信息搜索系统</h1>
    
    <div class="search-box">
        <input type="text" class="search-input" id="searchInput" placeholder="请输入姓名或学号后四位/全部学号...">
        <div class="search-history" id="searchHistory"></div>
    </div>
    
    <div class="table-wrapper">
        <table>
            <thead>
                <tr>
                    <th>学号</th>
                    <th>姓名</th>
                    <th>年龄</th>
                    <th>部门</th>
                    <th>职位</th>
                </tr>
            </thead>
            <tbody id="tableBody"></tbody>
        </table>
    </div>
    
    <div id="noResults" class="no-results">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-bottom: 10px; color: #9ca3af;"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
        <div>没有找到匹配的结果</div>
    </div>
</div>
<script>
    const dataList = [
        { id: '2312505002', name: '袁冶', age: 28, department: '技术部', position: '前端开发' },
        { id: '2312505003', name: '王润姿', age: 32, department: '市场部', position: '市场经理' },
        { id: '2312505005', name: '郭瑾涵', age: 24, department: '技术部', position: '后端开发' },
        { id: '2312505006', name: '符明浩', age: 35, department: '行政部', position: '行政主管' },
        { id: '2312505007', name: '黄钿荃', age: 29, department: '销售部', position: '销售顾问' },
        { id: '2312505008', name: '张轩', age: 26, department: '技术部', position: '测试工程师' },
        { id: '2312505010', name: '刘恩助', age: 31, department: '销售部', position: '销售经理' },
        { id: '2312505012', name: '何思力', age: 27, department: '客服部', position: '客服专员' },
        { id: '2312505013', name: '邵靖婷', age: 33, department: '研发部', position: '产品经理' },
        { id: '2312505014', name: '樊青青', age: 25, department: '设计部', position: 'UI设计师' },
        { id: '2312505015', name: '吴泽轩', age: 28, department: '技术部', position: '前端开发' },
        { id: '2312505017', name: '尹硕', age: 32, department: '市场部', position: '市场经理' },
        { id: '2312505018', name: '辛怡洁', age: 24, department: '技术部', position: '后端开发' },
        { id: '2312505019', name: '孔珊', age: 35, department: '行政部', position: '行政主管' },
        { id: '2312505020', name: '董晟', age: 29, department: '销售部', position: '销售顾问' },
        { id: '2312505021', name: '袁嘉隆', age: 26, department: '技术部', position: '测试工程师' },
        { id: '2312505022', name: '胡曦', age: 31, department: '销售部', position: '销售经理' },
        { id: '2312505023', name: '惠星宇', age: 27, department: '客服部', position: '客服专员' },
        { id: '2312505024', name: '葛添羽', age: 33, department: '研发部', position: '产品经理' },
        { id: '2312505025', name: '钟原', age: 25, department: '设计部', position: 'UI设计师' },
        { id: '2312505026', name: '程晓岚', age: 28, department: '技术部', position: '前端开发' },
        { id: '2312505027', name: '金梓轩', age: 32, department: '市场部', position: '市场经理' },
        { id: '2312505028', name: '徐欣伟', age: 24, department: '技术部', position: '后端开发' },
        { id: '2312505029', name: '谢显欢', age: 35, department: '行政部', position: '行政主管' },
        { id: '2312505030', name: '黄佳怡', age: 29, department: '销售部', position: '销售顾问' },
        { id: '2312505031', name: '徐冰莹', age: 26, department: '技术部', position: '测试工程师' },
        { id: '2312505032', name: '陆恩圻', age: 31, department: '销售部', position: '销售经理' },
        { id: '2312505033', name: '吴政霖', age: 27, department: '客服部', position: '客服专员' },
        { id: '2312505034', name: '羊泰祺', age: 33, department: '研发部', position: '产品经理' },
        { id: '2312505035', name: '赵宇立', age: 25, department: '设计部', position: 'UI设计师' },
        { id: '2312505038', name: '文俊宇', age: 28, department: '技术部', position: '前端开发' },
        { id: '2312505039', name: '李睿', age: 32, department: '市场部', position: '市场经理' },
        { id: '2312505040', name: '韩雨桐', age: 24, department: '技术部', position: '后端开发' },
        { id: '2312505041', name: '徐博', age: 35, department: '行政部', position: '行政主管' },
        { id: '2312505043', name: '苗馨予', age: 29, department: '销售部', position: '销售顾问' },
        { id: '2312505045', name: '杨子宇', age: 26, department: '技术部', position: '测试工程师' },
        { id: '2312505046', name: '张雅萌', age: 31, department: '销售部', position: '销售经理' },
        { id: '2312505047', name: '李一佳', age: 27, department: '客服部', position: '客服专员' },
        { id: '2312505048', name: '顾嘉鑫', age: 33, department: '研发部', position: '产品经理' },
        { id: '2312505049', name: '刘镇宇', age: 25, department: '设计部', position: 'UI设计师' },
        { id: '2312505050', name: '孙家润', age: 28, department: '技术部', position: '前端开发' },
        { id: '2312505051', name: '马望轩', age: 32, department: '市场部', position: '市场经理' },
        { id: '2312505052', name: '李宗旭', age: 24, department: '技术部', position: '后端开发' },
        { id: '2312505053', name: '杨鸣', age: 35, department: '行政部', position: '行政主管' },
        { id: '2312505054', name: '李东瑾', age: 29, department: '销售部', position: '销售顾问' },
        { id: '2312505056', name: '王钰涛', age: 26, department: '技术部', position: '测试工程师' },
        { id: '2312505058', name: '张铭凯', age: 31, department: '销售部', position: '销售经理' },
        { id: '2312505059', name: '李浩铭', age: 27, department: '客服部', position: '客服专员' },
        { id: '2312505060', name: '张忠洋', age: 33, department: '研发部', position: '产品经理' }
    ];
</script>

function addToHistory(keyword) {
    historyList = historyList.filter(item => item !== keyword)
    historyList.unshift(keyword)
    f (historyList.length > 1) {
    historyList = historyList.slice(0, 1);
}
localStorage.setItem('searchHistory', JSoN.stringify(historyList));
renderHistory();
}
function renderHistory() {
    searchHistory.innerHTML = '';
    historyList.forEach(item => {
        const historyItem = document.createElement('div');
        historyItem.className = "history-item";
        const textSpan = document.createElement('span');
        textSpan.textContent = item;
        textSpan.style.flexGrow = "1";
        textSpan.style.cursor = "pointer";

        historyItem.addEventListener('click', function (event){
            if (!event.target.classList.contains("delete-history")) {
                earchInput.value = item;
                searchHistory.style.display = "none";
                searchData(item);
            }
        })
        const deleteBtn = document.createElement('span');
        deleteBtn.className ='delete-history';
        deleteBtn.innerHTML= 'X';
        deleteBtn.addEventListener('click', function (e) {
            e.stopPropagation();
            deleteHistory(item) ;
    });
    historyItem.appendChild(textSpan);
    historyItem.appendChild(deleteBtn);
    searchHistory.appendChild(historyItem);
    });
}
unction deleteHistory(keyword) {
    historyList = historyList.filter(item => item !== keyword);
    localStorage.setItem('searchHistory', JSoN.stringify(historyList));
    enderHistory();
    if (historyList.length == 0) {
        searchHistory.style.display= 'none';
    }
}
searchInput.addEventListener('keyup', function (e){
    f (e.key = 'Enter') {
        const keyword = this.value.trim();
        if (keyword) {
            addToHistory(keyword);
        }
    }
})

earchInput.addEventListener('blur', function () {
    const keyword = this.value.trim();
    f (keyword) {
        addToHistory(keyword);
}
